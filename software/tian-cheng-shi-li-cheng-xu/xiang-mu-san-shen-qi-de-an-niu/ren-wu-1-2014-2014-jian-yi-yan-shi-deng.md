### 任务1——简易延时灯

#### 1、任务内容

实现功能：通过按下按钮开关后，单色LED灯被点亮保持3 秒后灯熄灭。

#### 2、流程图

![img](/assets/image216.jpg)

图3.3-2

#### 3、程序编写

![屏幕快照 2018-07-04 10.06.55.png](/assets/image218.gif)

图3.3-3

这里我们看到了一个新的结构——**条件结构**。它是如何应用的呢?请看下图:

![img](/assets/image220.jpg)

图3.3-4

如果当前状态符合判断条件的要求，判断模块内(红色边框内的)的程序将会被执行。如果不符合，则那部分代码将会被跳过，直接执行接下来黑色框中的程序。

#### 4、硬件连接

按钮开关----2；单色 LED 灯---10；注意插线时的颜色对应。

#### 5、Q&A

Q：程序上传成功后，按下按键单色灯不熄灭？

A：观察熄灭灯的程序块的位置，应在条件结构外面。

Q：按键开关可以连接任意的管脚吗？

A：是的，但是，如果设计连接管脚为D0或D1时，需注意：先上传程序后，再连接硬件。

#### 6、拓展

1、知识点总结

1）按钮的工作原理为：按下按键，电路接通，此时按钮输出为低电平。如图3.3-5所示两程序完全相同：按下开关，单色灯被点亮；松开按键开关，灯熄灭。

![img](/assets/image222.jpg)

图3.3-5

2）按钮开关具有机械抖动的缺点，在使用代码编程时，需添加防抖动的程序。

3）条件结构，注意判断的条件与可执行语句的区别

4）数字输入程序块

2、相关案例

1）使用按钮模拟开关（任务2、任务3）；