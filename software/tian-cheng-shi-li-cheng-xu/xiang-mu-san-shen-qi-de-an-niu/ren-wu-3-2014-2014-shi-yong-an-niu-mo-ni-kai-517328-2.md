### 任务3——使用按钮模拟开关(2)

#### 1、任务目标

实现功能：通过控制按钮开关来控制单色灯的状态，当按下按钮时，单色LED灯被点亮，保持3 秒后灯熄灭。

#### 2、流程图

![img](/assets/image228.jpg)

图3.3-8

#### 3、程序编程

![img](/assets/image230.jpg)

图3.3-9

这段程序中，我们使用了一个新的模块——**中断**。

**中断**过程是指，在程序顺序执行的过程中，当主控板收到规定的某些数字输入信号时，会立即暂停当前执行的程序，转而去执行中断部分的程序，当中断部分执行完毕，再回到刚 才暂停的地方继续执行原来的程序。注意:主控板上只有 2 号和 3 号管脚支持中断功能。

举一个简单的例子：比如你在家看电视，突然门铃响了（家人回来了），那么你

不得不停下看电视先去开门，之后你又可以继续看电视啦！在整个过程中接电

话就是一个中断过程，门铃响就是中断的标志，即触发中断的条件。

上面的程序中，当人按下按钮时，便会暂停当前程序进入中断，执行中断中的模块。

![img](/assets/image232.jpg)

图3.3-10

#### 4、硬件连接

硬件连接：按钮开关----2；单色LED灯----10；注意插线时的颜色对应。

#### 5、Q&A

Q：为什么数字输入同时也可以是输出？

A：图3.3-8所示，数字输入只是表示电平的高低。

#### 6、拓展

1、知识点总结

1）复位按钮，按下后，程序恢复刚上传成功的状态；

2）中断程序块；

3）延时程序块；

2、相关案例：

1）项目三的任务1和任务2；